<div class="page-content">
  <app-page-header></app-page-header>
  <h1>Clients</h1>

  <app-reusable-table
    [data]="data"
    [config]="config"
    [actions]="actions"
    [totalRecords]="totalRecords"
    [filterItems]="filterItems"
    (paginationChange)="onPaginationChange($event)"
    (selectionChange)="selectionChange($event)"
  >
  </app-reusable-table>
</div>

<!-- client form dialog -->
<p-dialog
  styleClass="form-dialog"
  [modal]="true"
  [(visible)]="visible"
  [style]="{ width: '35rem' }"
  (onHide)="onDialogHide()"
>
  <ng-template pTemplate="header">
    @if (currentClientId) {
      <h2>Edit Client</h2>
    } @else {
      <h2>Add New Client</h2>
    }
  </ng-template>

  @if (visible) {
    <app-client-form
      [clientId]="currentClientId"
      (close)="handleFormClose($event)"
    ></app-client-form>
  }
</p-dialog>

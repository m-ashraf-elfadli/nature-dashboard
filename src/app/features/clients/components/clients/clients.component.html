<div class="page-content">
  <app-page-header></app-page-header>

  <h1>{{ "clients.list.page_title" | translate }}</h1>

  <app-reusable-table
    [data]="data"
    [config]="config"
    [actions]="actions"
    [totalRecords]="totalRecords"
    [emptyStateInfo]="emptyStateInfo"
    [filterItems]="filterItems"
    (paginationChange)="onPaginationChange($event)"
    (filterChange)="onFilterChange($event)"
  >
  </app-reusable-table>
</div>

<p-dialog
  styleClass="form-dialog"
  [modal]="true"
  [(visible)]="visible"
  [style]="{ width: '35rem' }"
  (onHide)="onDialogHide()"
>
  <ng-template pTemplate="header">
    @if (currentClientId) {
      <h2>{{ "clients.form.edit_title" | translate }}</h2>
    } @else {
      <h2>{{ "clients.form.add_title" | translate }}</h2>
    }
  </ng-template>

  @if (visible) {
    <app-client-form
      [clientId]="currentClientId"
      (close)="handleFormClose($event)"
    ></app-client-form>
  }
</p-dialog>

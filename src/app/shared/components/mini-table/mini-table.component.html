@if(data.length ){
<p-table [value]="data" [reorderableColumns]="reorderable" (onRowReorder)="onRowReorder($event)">
  <ng-template pTemplate="header">
    <tr class="row-header">
      <!-- First column -->
      <th>{{ columns[0]?.header | translate }}</th>

      <!-- Text columns -->
      <th *ngFor="let col of textColumns">
        {{ col.header | translate }}
      </th>

      <!-- Actions -->
      <th *ngIf="actionColumns.length">{{'mini_table.header.actions'| translate}}</th>
    </tr>
  </ng-template>

  <!-- BODY -->
  <ng-template pTemplate="body" let-row let-index="rowIndex">
    <tr [pReorderableRow]="reorderable ? index : null">

      <!-- ğŸ”¹ FIRST COLUMN -->
      <td>
        <div class="name-column">
          <span *ngIf="reorderable" pReorderableRowHandle class="drag-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="8" height="13" viewBox="0 0 8 13" fill="none">
              <path
                d="M1.41667 2.83333C1.79239 2.83333 2.15272 2.68408 2.4184 2.4184C2.68408 2.15272 2.83333 1.79239 2.83333 1.41667C2.83333 1.04094 2.68408 0.680609 2.4184 0.414932C2.15272 0.149255 1.79239 0 1.41667 0C1.04094 0 0.680609 0.149255 0.414932 0.414932C0.149255 0.680609 0 1.04094 0 1.41667C0 1.79239 0.149255 2.15272 0.414932 2.4184C0.680609 2.68408 1.04094 2.83333 1.41667 2.83333ZM1.41667 7.79167C1.79239 7.79167 2.15272 7.64241 2.4184 7.37673C2.68408 7.11106 2.83333 6.75072 2.83333 6.375C2.83333 5.99928 2.68408 5.63894 2.4184 5.37327C2.15272 5.10759 1.79239 4.95833 1.41667 4.95833C1.04094 4.95833 0.680609 5.10759 0.414932 5.37327C0.149255 5.63894 0 5.99928 0 6.375C0 6.75072 0.149255 7.11106 0.414932 7.37673C0.680609 7.64241 1.04094 7.79167 1.41667 7.79167ZM2.83333 11.3333C2.83333 11.7091 2.68408 12.0694 2.4184 12.3351C2.15272 12.6007 1.79239 12.75 1.41667 12.75C1.04094 12.75 0.680609 12.6007 0.414932 12.3351C0.149255 12.0694 0 11.7091 0 11.3333C0 10.9576 0.149255 10.5973 0.414932 10.3316C0.680609 10.0659 1.04094 9.91667 1.41667 9.91667C1.79239 9.91667 2.15272 10.0659 2.4184 10.3316C2.68408 10.5973 2.83333 10.9576 2.83333 11.3333ZM6.375 2.83333C6.75072 2.83333 7.11106 2.68408 7.37673 2.4184C7.64241 2.15272 7.79167 1.79239 7.79167 1.41667C7.79167 1.04094 7.64241 0.680609 7.37673 0.414932C7.11106 0.149255 6.75072 0 6.375 0C5.99928 0 5.63894 0.149255 5.37327 0.414932C5.10759 0.680609 4.95833 1.04094 4.95833 1.41667C4.95833 1.79239 5.10759 2.15272 5.37327 2.4184C5.63894 2.68408 5.99928 2.83333 6.375 2.83333ZM7.79167 6.375C7.79167 6.75072 7.64241 7.11106 7.37673 7.37673C7.11106 7.64241 6.75072 7.79167 6.375 7.79167C5.99928 7.79167 5.63894 7.64241 5.37327 7.37673C5.10759 7.11106 4.95833 6.75072 4.95833 6.375C4.95833 5.99928 5.10759 5.63894 5.37327 5.37327C5.63894 5.10759 5.99928 4.95833 6.375 4.95833C6.75072 4.95833 7.11106 5.10759 7.37673 5.37327C7.64241 5.63894 7.79167 5.99928 7.79167 6.375ZM6.375 12.75C6.75072 12.75 7.11106 12.6007 7.37673 12.3351C7.64241 12.0694 7.79167 11.7091 7.79167 11.3333C7.79167 10.9576 7.64241 10.5973 7.37673 10.3316C7.11106 10.0659 6.75072 9.91667 6.375 9.91667C5.99928 9.91667 5.63894 10.0659 5.37327 10.3316C5.10759 10.5973 4.95833 10.9576 4.95833 11.3333C4.95833 11.7091 5.10759 12.0694 5.37327 12.3351C5.63894 12.6007 5.99928 12.75 6.375 12.75Z"
                fill="black" />
            </svg>
          </span>

          <img *ngIf="showImage" [src]="row[imageField]" class="row-image" />

          <span class="text">
            {{ row[columns[0].field] }}
          </span>
        </div>
      </td>

      <!-- ğŸ”¹ TEXT COLUMNS -->
      <td *ngFor="let col of textColumns">
        {{ row[col.field] }}
      </td>

      <!-- ğŸ”¹ ACTIONS COLUMN -->
      <td *ngIf="actionColumns.length" class="actions-td">
        <div class="actions-wrapper">
          <ng-container *ngFor="let col of actionColumns">
            <button *ngIf="col.type === 'edit-action'" class="edit-btn" type="button" (click)="onEdit(row, index)"
              title="Edit">
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                <path
                  d="M8.23888 13.7319H14.4182M2.05957 13.7319H3.2093C3.54517 13.7319 3.7131 13.7319 3.87114 13.694C4.01125 13.6603 4.1452 13.6049 4.26806 13.5296C4.40664 13.4447 4.52538 13.3259 4.76288 13.0884L13.3884 4.46293C13.9572 3.89414 13.9572 2.97195 13.3884 2.40316C12.8196 1.83436 11.8974 1.83437 11.3286 2.40316L2.70309 11.0286C2.46559 11.2661 2.34684 11.3849 2.26192 11.5235C2.18663 11.6463 2.13115 11.7803 2.09751 11.9204C2.05957 12.0784 2.05957 12.2463 2.05957 12.5822V13.7319Z"
                  stroke="#333435" stroke-width="1.37318" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>

            <button *ngIf="col.type === 'delete-action'" type="button" class="delete-btn" (click)="onDelete(index)"
              title="Delete">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                <g clip-path="url(#clip0_10676_8485)">
                  <path
                    d="M8.71281 3.26727V2.83164C8.71281 2.2217 8.71281 1.91673 8.5941 1.68376C8.48969 1.47884 8.32308 1.31223 8.11816 1.20781C7.88519 1.08911 7.58022 1.08911 6.97028 1.08911H6.09901C5.48907 1.08911 5.1841 1.08911 4.95114 1.20781C4.74621 1.31223 4.5796 1.47884 4.47519 1.68376C4.35649 1.91673 4.35649 2.2217 4.35649 2.83164V3.26727M5.44557 6.26224V8.98494M7.62373 6.26224V8.98494M1.63379 3.26727H11.4355M10.3464 3.26727V9.36612C10.3464 10.281 10.3464 10.7385 10.1684 11.0879C10.0117 11.3953 9.76184 11.6452 9.45445 11.8019C9.105 11.9799 8.64755 11.9799 7.73263 11.9799H5.33666C4.42175 11.9799 3.96429 11.9799 3.61484 11.8019C3.30745 11.6452 3.05754 11.3953 2.90092 11.0879C2.72287 10.7385 2.72287 10.281 2.72287 9.36612V3.26727"
                    stroke="#F96C4D" stroke-width="0.980172" stroke-linecap="round" stroke-linejoin="round" />
                </g>
                <defs>
                  <clipPath id="clip0_10676_8485">
                    <rect width="13.069" height="13.069" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </button>

          </ng-container>
        </div>
      </td>

    </tr>
  </ng-template>
</p-table>
}